<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fix Nova Account</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="page-wrapper">
    <header>
      <h1>PixelGame Dev Tools</h1>
      <nav>
        <a href="index.html">Home</a>
        <a href="profile.html">Profile</a>
      </nav>
    </header>

    <main>
      <div class="section-box">
        <h2>Fix 'Nova' Account</h2>
        <p>This tool will let you set a password and bio for the pre-registered user <strong>Nova</strong>.</p>

        <form onsubmit="fixNova(); return false;">
          <label for="password">New Password:</label><br>
          <input type="password" id="password" required><br><br>

          <label for="bio">New Bio:</label><br>
          <textarea id="bio" rows="5" cols="40" placeholder="Write something cool..." required></textarea><br><br>

          <button type="submit">Fix Nova</button>
        </form>
      </div>
    </main>

    <footer>
      Â© 2025 PixelGame Dev Tools.
    </footer>
  </div>

  <script>
    function fixNova() {
      const password = document.getElementById('password').value.trim();
      const bio = document.getElementById('bio').value.trim();

      let users = JSON.parse(localStorage.getItem('registeredUsers')) || [];
      let userData = JSON.parse(localStorage.getItem('userData')) || {};

      if (!users.includes('Nova')) {
        alert("Error: 'Nova' is not in your registered user list.");
        return;
      }

      userData['Nova'] = {
        password: password,
        bio: bio
      };

      localStorage.setItem('userData', JSON.stringify(userData));
      localStorage.setItem('profileUsername', 'Nova');
      localStorage.setItem('profileBio', bio);

      alert("Nova's account is now fixed! You are logged in as Nova.");
      window.location.href = 'profile.html';
    }
  </script>
</body>
</html>
