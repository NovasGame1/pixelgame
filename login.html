<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PixelGame - Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="page-wrapper">
    <header>
      <h1>PixelGame</h1>
<nav>
  <a href="index.html">Home</a>
  <a href="games.html">Games</a>
  <a href="profile.html">Profile</a>
  <a href="login.html" id="loginLink">Login</a>
  <a href="#" id="logoutLink" style="display: none;" onclick="logout()">Logout</a>
</nav>

    </header>

    <main>
      <div class="section-box">
        <h2>Login / Set Profile</h2>

        <form onsubmit="saveProfile(); return false;">
          <label for="username">Username:</label><br>
          <input type="text" id="username" placeholder="Enter your username" required><br><br>

          <label for="bio">Bio:</label><br>
          <textarea id="bio" placeholder="Tell us about yourself..." rows="5" cols="40" required></textarea><br><br>

          <button type="submit">Save Profile</button>
        </form>
      </div>
    </main>

    <footer>
      Â© 2025 PixelGame.
    </footer>
  </div>

  <script>
  function saveProfile() {
    const username = document.getElementById('username').value.trim();
    const bio = document.getElementById('bio').value.trim();

    // Load existing registered usernames
    let users = JSON.parse(localStorage.getItem('registeredUsers')) || [];

    // Check if username already exists
    if (users.includes(username)) {
      alert('Username already taken! Please choose a different one.');
      return;
    }

    // Otherwise, save new username and bio
    localStorage.setItem('profileUsername', username);
    localStorage.setItem('profileBio', bio);

    // Add username to registered users list
    users.push(username);
    localStorage.setItem('registeredUsers', JSON.stringify(users));

    alert('Profile Saved! Go to your Profile page.');
    window.location.href = 'profile.html';
  }
</script>



  <script>
  // Function to check login status and toggle navigation links
  function updateNavLinks() {
    const username = localStorage.getItem('profileUsername');
    const loginLink = document.getElementById('loginLink');
    const logoutLink = document.getElementById('logoutLink');

    if (username) {
      // User is logged in
      loginLink.style.display = 'none';
      logoutLink.style.display = 'inline';
    } else {
      // User is not logged in
      loginLink.style.display = 'inline';
      logoutLink.style.display = 'none';
    }
  }

  // Logout function
  function logout() {
    localStorage.removeItem('profileUsername');
    localStorage.removeItem('profileBio');
    // Optionally, remove other related items
    updateNavLinks();
    window.location.href = 'login.html';
  }

  // Initialize navigation links on page load
  document.addEventListener('DOMContentLoaded', updateNavLinks);
</script>

</body>
</html>
